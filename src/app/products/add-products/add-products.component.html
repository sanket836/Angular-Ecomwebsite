<mat-card>
  <mat-card-title>
      <div *ngIf="data.action==='add'">
          Create New Product
      </div>
      <div *ngIf="data.action==='edit'">
          Update Product
      </div>
  </mat-card-title>
  <mat-card-content>
    <form [formGroup]="addproductsForm">
      <p>
        <mat-form-field appearance="outline">
          <mat-label>Name</mat-label>
          <input matInput placeholder="Product Name" formControlName="name">
          <mat-icon matSuffix>sentiment_very_satisfied</mat-icon>
          <mat-error *ngIf="addproductsForm.controls['name'].errors && addproductsForm.controls['name'].hasError('required')">
               Name is required
          </mat-error>
          <mat-error *ngIf="addproductsForm.controls['name'].errors && addproductsForm.controls['name'].hasError('pattern')">
               Enter only alphabets and space
          </mat-error>
        </mat-form-field>
      </p>

      <p>
        <mat-form-field appearance="outline">
          <mat-label>Description</mat-label>
          <textarea matInput placeholder="Product Description" cdkTextareaAutosize cdkAutosizeMinRows="1" cdkAutosizeMaxRows="5"
                formControlName="description">
          </textarea>
          <mat-icon matSuffix>sentiment_very_satisfied</mat-icon>
          <mat-error *ngIf="addproductsForm.controls['description'].errors && addproductsForm.controls['description'].hasError('required')">
               Description is required
          </mat-error>
          <mat-error *ngIf="addproductsForm.controls['description'].errors && addproductsForm.controls['description'].hasError('pattern')">
                Enter only alphabets and space
          </mat-error>
        </mat-form-field>
      </p>

      <p>
        <mat-form-field appearance="fill">
          <mat-label>Category Name</mat-label>
          <mat-select [(ngModel)]="selectedValue" placeholder="Select Category" formControlName="categoryname">
            <mat-option *ngFor="let cat of categories" [value]="cat">
                {{cat.name}}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </p>
      <h3>Your category is : {{selectedValue?.name}}</h3>

      <p>
        <mat-form-field appearance="outline">
          <mat-label>Price</mat-label>
          <input matInput placeholder="Product Price" formControlName="price">
          <mat-icon matSuffix>sentiment_very_satisfied</mat-icon>
          <mat-error *ngIf="addproductsForm.controls['price'].errors && addproductsForm.controls['price'].hasError('required')">
                Price is required
          </mat-error>
          <mat-error *ngIf="addproductsForm.controls['price'].errors && addproductsForm.controls['price'].hasError('pattern')">
                Enter only numbers
          </mat-error>
        </mat-form-field>
      </p>


        <div *ngIf="data.action==='add'">
          <button type="submit" mat-raised-button class="demo-button" (click)="createproduct()" [disabled]="!addproductsForm.valid">
            Add
          </button>
        </div>
        <div *ngIf="data.action==='edit'">
           <button type="submit" mat-raised-button class="demo-button" (click)="updateproduct()" [disabled]="!addproductsForm.valid">
             Update
           </button>
        </div>


    </form>
  </mat-card-content>
</mat-card>


